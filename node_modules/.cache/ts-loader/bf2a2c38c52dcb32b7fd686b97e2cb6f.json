{"remainingRequest":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js!/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js??ref--14-2!/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js??ref--13-0!/Users/luochang/Desktop/vue3-project/src/store/modules/appStore/index.ts","dependencies":[{"path":"/Users/luochang/Desktop/vue3-project/src/store/modules/appStore/index.ts","mtime":1630636808292},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":1611888872654},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js","mtime":1607827004578},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js","mtime":1608712855794},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js","mtime":1611891883494}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCB7IGZvcm1hdE1lbnVzTWFwIH0gZnJvbSAnQC9yb3V0ZXIvY29tbW9uJzsKaW1wb3J0IFVzZXJBY3Rpb24gZnJvbSAnQC9hcGkvbW9kdWxlcy9hcHAnOwp2YXIgYXBwTW9kdWxlID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIHVzZXJJbmZvOiBudWxsLAogICAgY29sbGFwc2VkOiBmYWxzZSwKICAgIHNob3dOYXZTaWRlOiB0cnVlLAogICAgc2hvd0dhbWVTZWxlY3Q6IGZhbHNlLAogICAgbWVudU1hcDogZm9ybWF0TWVudXNNYXAoKSwKICAgIGFjdGl2ZWRNZW51OiAnSG9tZScgLy8g5b2T5YmN6YCJ5Lit55qE5LiA57qn5a+86IiqCgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBUT0dHTEVfQ09MTEFQU0VEOiBmdW5jdGlvbiBUT0dHTEVfQ09MTEFQU0VEKHN0YXRlLCB2YWx1ZSkgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHN0YXRlLmNvbGxhcHNlZCA9IHZhbHVlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgc3RhdGUuY29sbGFwc2VkID0gIXN0YXRlLmNvbGxhcHNlZDsKICAgIH0sCiAgICBTRVRfTkFWX1NJREU6IGZ1bmN0aW9uIFNFVF9OQVZfU0lERShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUuc2hvd05hdlNpZGUgPSB2YWx1ZTsKICAgIH0sCiAgICBTRVRfU0hPV19HQU1FX1NFTEVDVDogZnVuY3Rpb24gU0VUX1NIT1dfR0FNRV9TRUxFQ1Qoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLnNob3dHYW1lU2VsZWN0ID0gdmFsdWU7CiAgICB9LAogICAgU0VUX0FDVElWRURfTUVOVTogZnVuY3Rpb24gU0VUX0FDVElWRURfTUVOVShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUuYWN0aXZlZE1lbnUgPSB2YWx1ZTsKICAgIH0sCiAgICBTRVRfVVNFUl9JTkZPOiBmdW5jdGlvbiBTRVRfVVNFUl9JTkZPKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHZhbHVlOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgdG9nZ2xlQ29sbGFwc2VkOiBmdW5jdGlvbiB0b2dnbGVDb2xsYXBzZWQoX3JlZiwgdmFsdWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBjb21taXQoJ1RPR0dMRV9DT0xMQVBTRUQnLCB2YWx1ZSk7CiAgICB9LAogICAgc2V0TmF2U2lkZTogZnVuY3Rpb24gc2V0TmF2U2lkZShfcmVmMiwgdmFsdWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCdTRVRfTkFWX1NJREUnLCB2YWx1ZSk7CiAgICB9LAogICAgc2V0U2hvd0dhbWVTZWxlY3Q6IGZ1bmN0aW9uIHNldFNob3dHYW1lU2VsZWN0KF9yZWYzLCB2YWx1ZSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ1NFVF9TSE9XX0dBTUVfU0VMRUNUJywgdmFsdWUpOwogICAgfSwKICAgIHNldFVzZXJJbmZvOiBmdW5jdGlvbiBzZXRVc2VySW5mbyhfcmVmNCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIFVzZXJBY3Rpb24uZ2V0VXNlckluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICBjb21taXQoJ1NFVF9VU0VSX0lORk8nLCB7CiAgICAgICAgICAgICAgaWQ6IGRhdGEuaWQsCiAgICAgICAgICAgICAgcm9sZTogZGF0YS5yb2xlLAogICAgICAgICAgICAgIHJvbGVOYW1lOiBkYXRhLnJvbGVOYW1lLAogICAgICAgICAgICAgIHVzZXJOYW1lOiBkYXRhLnVzZXJOYW1lLAogICAgICAgICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCfnlKjmiLfkv6Hmga/ojrflj5blpLHotKUnKSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgdmFyIG1zZyA9IGVyci5tZXNzYWdlIHx8ICfor7fmsYLlvILluLgnOwogICAgICAgICAgRWxNZXNzYWdlLmVycm9yKG1zZyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycwogICAgc2V0VXNlclBlcm1pc3Npb246IGZ1bmN0aW9uIHNldFVzZXJQZXJtaXNzaW9uKF9yZWY1KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWY1LnN0YXRlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBfc3RhdGUkdXNlckluZm87CgogICAgICAgIFVzZXJBY3Rpb24uZ2V0VXNlclBlcm1pc3Npb24oewogICAgICAgICAgdXNlcklkOiAoX3N0YXRlJHVzZXJJbmZvID0gc3RhdGUudXNlckluZm8pID09PSBudWxsIHx8IF9zdGF0ZSR1c2VySW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJHVzZXJJbmZvLmlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3NldFVzZXJQZXJtaXNzaW9uJywgZGF0YSk7IC8vIGNvbW1pdCgnU0VUX01FTlVfTElTVCcsIHJlc3VsdC5tZW51KQogICAgICAgICAgICAvLyBjb21taXQoJ1NFVF9NRU5VX01BUCcsIHJlc3VsdC5tYXApCiAgICAgICAgICAgIC8vIGNvbW1pdCgnU0VUX0FERF9ST1VURVJTJywgcmVzdWx0LnJvdXRlcykKICAgICAgICAgICAgLy8gY29tbWl0KCdTRVRfSElTVE9SWV9NRU5VX0xJU1QnLCBkYXRhKQogICAgICAgICAgICAvLyByZXNvbHZlKHJlc3VsdC5yb3V0ZXMpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCfnlKjmiLfoj5zljZXliJfooajojrflj5blpLHotKUnKSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgdmFyIG1zZyA9IGVyci5tZXNzYWdlIHx8ICfnlKjmiLfoj5zljZXliJfooajojrflj5blpLHotKUnOwogICAgICAgICAgRWxNZXNzYWdlLmVycm9yKG1zZyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBhcHBNb2R1bGU7"},{"version":3,"sources":["/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js??ref--13-0!/Users/luochang/Desktop/vue3-project/src/store/modules/appStore/index.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ActionContext } from 'vuex'\nimport { ElMessage } from 'element-plus'\nimport { formatMenusMap } from '@/router/common'\nimport UserAction from '@/api/modules/app'\nimport AppState, { UserInfo } from './types'\nimport RootStateTypes from '../../types'\n\nconst appModule = {\n  namespaced: true,\n  state: {\n    userInfo: null, // 用户信息\n    collapsed: false, // 左侧导航是否折叠\n    showNavSide: true, // 是否显示左侧导航\n    showGameSelect: false, // 是否显示游戏下拉框\n    menuMap: formatMenusMap(), // 一二级导航集合\n    activedMenu: 'Home' // 当前选中的一级导航\n  },\n  mutations: {\n    TOGGLE_COLLAPSED(state: AppState, value: boolean) {\n      if (value !== undefined) {\n        state.collapsed = value\n        return\n      }\n      state.collapsed = !state.collapsed\n    },\n    SET_NAV_SIDE(state: AppState, value: boolean | undefined) {\n      state.showNavSide = value\n    },\n    SET_SHOW_GAME_SELECT(state: AppState, value: boolean) {\n      state.showGameSelect = value\n    },\n    SET_ACTIVED_MENU(state: AppState, value: string) {\n      state.activedMenu = value\n    },\n    SET_USER_INFO(state: AppState, value: UserInfo) {\n      state.userInfo = value\n    }\n  },\n  actions: {\n    toggleCollapsed({ commit }: ActionContext<string, RootStateTypes>, value: boolean) {\n      commit('TOGGLE_COLLAPSED', value)\n    },\n    setNavSide({ commit }: ActionContext<string, RootStateTypes>, value: boolean) {\n      commit('SET_NAV_SIDE', value)\n    },\n    setShowGameSelect({ commit }: ActionContext<string, RootStateTypes>, value: boolean) {\n      commit('SET_SHOW_GAME_SELECT', value)\n    },\n    setUserInfo({ commit }: ActionContext<string, RootStateTypes>) {\n      return new Promise<void>((resolve, reject) => {\n        UserAction.getUserInfo()\n          .then((res: any) => {\n            if (res.data) {\n              const { data } = res\n              commit('SET_USER_INFO', {\n                id: data.id,\n                role: data.role,\n                roleName: data.roleName,\n                userName: data.userName,\n                email: data.email\n              })\n              resolve()\n            } else {\n              reject(new Error('用户信息获取失败'))\n            }\n          })\n          .catch((err) => {\n            const msg = err.message || '请求异常'\n            ElMessage.error(msg)\n            reject(err)\n          })\n      })\n    },\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setUserPermission({ commit, state }: ActionContext<AppState, RootStateTypes>) {\n      return new Promise<any>((resolve, reject) => {\n        UserAction.getUserPermission({\n          userId: state.userInfo?.id\n        })\n          .then((res: any) => {\n            if (res.data) {\n              const { data } = res\n              console.log('setUserPermission', data)\n\n              // commit('SET_MENU_LIST', result.menu)\n              // commit('SET_MENU_MAP', result.map)\n              // commit('SET_ADD_ROUTERS', result.routes)\n              // commit('SET_HISTORY_MENU_LIST', data)\n              // resolve(result.routes)\n            } else {\n              reject(new Error('用户菜单列表获取失败'))\n            }\n          })\n          .catch((err: any) => {\n            const msg = err.message || '用户菜单列表获取失败'\n            ElMessage.error(msg)\n            reject(err)\n          })\n      })\n    }\n  }\n}\nexport default appModule\n"],"sourceRoot":""}]}