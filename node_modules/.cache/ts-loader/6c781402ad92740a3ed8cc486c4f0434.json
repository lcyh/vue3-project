{"remainingRequest":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js!/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js??ref--14-2!/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/luochang/Desktop/vue3-project/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/luochang/Desktop/vue3-project/src/views/login/index.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/luochang/Desktop/vue3-project/src/views/login/index.vue","mtime":1631952484486},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":1615864461891},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js","mtime":1615864461876},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js","mtime":1615864465705},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":1615864461891},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/vue-loader-v16/dist/index.js","mtime":1631523068699}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2x1b2NoYW5nL0Rlc2t0b3AvdnVlMy1wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9sdW9jaGFuZy9EZXNrdG9wL3Z1ZTMtcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CgovKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovCmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgb25Nb3VudGVkLCByZWFjdGl2ZSwgd2F0Y2gsIHJlZiwgbmV4dFRpY2ssIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlLCB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgaXNWYWxpZFVzZXJuYW1lIH0gZnJvbSAnQC91dGlscy9zaGFyZWQnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHt9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciB1c2VyTmFtZVJlZiA9IHJlZihudWxsKTsKICAgIHZhciBwYXNzd29yZFJlZiA9IHJlZihudWxsKTsKICAgIHZhciBsb2dpbkZvcm1SZWYgPSByZWYobnVsbCk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICdhZG1pbicsCiAgICAgICAgcGFzc3dvcmQ6ICcxMTExMTEnCiAgICAgIH0sCiAgICAgIGxvZ2luUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdXNlck5hbWVSZWYsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogcGFzc3dvcmRSZWYsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBwYXNzd29yZFR5cGU6ICdwYXNzd29yZCcsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICByZWRpcmVjdDogJycsCiAgICAgIG90aGVyUXVlcnk6IHt9CiAgICB9KTsKICAgIHZhciBtZXRob2RzID0gcmVhY3RpdmUoewogICAgICB2YWxpZGF0ZVVzZXJuYW1lOiBmdW5jdGlvbiB2YWxpZGF0ZVVzZXJuYW1lKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgIGlmICghaXNWYWxpZFVzZXJuYW1lKHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdQbGVhc2UgZW50ZXIgdGhlIGNvcnJlY3QgdXNlciBuYW1lJykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdmFsaWRhdGVQYXNzd29yZDogZnVuY3Rpb24gdmFsaWRhdGVQYXNzd29yZChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgNikgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUaGUgcGFzc3dvcmQgY2FuIG5vdCBiZSBsZXNzIHRoYW4gNiBkaWdpdHMnKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93UHdkOiBmdW5jdGlvbiBzaG93UHdkKCkgewogICAgICAgIGlmIChzdGF0ZS5wYXNzd29yZFR5cGUgPT09ICdwYXNzd29yZCcpIHsKICAgICAgICAgIHN0YXRlLnBhc3N3b3JkVHlwZSA9ICcnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdGF0ZS5wYXNzd29yZFR5cGUgPSAncGFzc3dvcmQnOwogICAgICAgIH0KCiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgOwogICAgICAgICAgcGFzc3dvcmRSZWYudmFsdWUuZm9jdXMoKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgaGFuZGxlTG9naW46IGZ1bmN0aW9uIGhhbmRsZUxvZ2luKCkgewogICAgICAgIDsKICAgICAgICBsb2dpbkZvcm1SZWYudmFsdWUudmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWxpZCkgewogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnYXBwTW9kdWxlL3NldExvZ2luJywgc3RhdGUubG9naW5Gb3JtKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdGF0ZS5yZWRpcmVjdCB8fCAnLycsCiAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogc3RhdGUub3RoZXJRdWVyeQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpOwogICAgICAgICAgICAgICAgICAgIH0pOyAvLyBKdXN0IHRvIHNpbXVsYXRlIHRoZSB0aW1lIG9mIHRoZSByZXF1ZXN0CgogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0sIDAuNSAqIDEwMDApOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfTsKICAgICAgICB9KCkpOwogICAgICB9CiAgICB9KTsKCiAgICBmdW5jdGlvbiBnZXRPdGhlclF1ZXJ5KHF1ZXJ5KSB7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cikgewogICAgICAgIGlmIChjdXIgIT09ICdyZWRpcmVjdCcpIHsKICAgICAgICAgIGFjY1tjdXJdID0gcXVlcnlbY3VyXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhY2M7CiAgICAgIH0sIHt9KTsKICAgIH0KCiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByb3V0ZS5xdWVyeTsKICAgIH0sIGZ1bmN0aW9uIChxdWVyeSkgewogICAgICBpZiAocXVlcnkpIHsKICAgICAgICB2YXIgX3F1ZXJ5JHJlZGlyZWN0JHRvU3RyLCBfcXVlcnkkcmVkaXJlY3Q7CgogICAgICAgIHN0YXRlLnJlZGlyZWN0ID0gKF9xdWVyeSRyZWRpcmVjdCR0b1N0ciA9IChfcXVlcnkkcmVkaXJlY3QgPSBxdWVyeS5yZWRpcmVjdCkgPT09IG51bGwgfHwgX3F1ZXJ5JHJlZGlyZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcXVlcnkkcmVkaXJlY3QudG9TdHJpbmcoKSkgIT09IG51bGwgJiYgX3F1ZXJ5JHJlZGlyZWN0JHRvU3RyICE9PSB2b2lkIDAgPyBfcXVlcnkkcmVkaXJlY3QkdG9TdHIgOiAnJzsKICAgICAgICBzdGF0ZS5vdGhlclF1ZXJ5ID0gZ2V0T3RoZXJRdWVyeShxdWVyeSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9KTsKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChzdGF0ZS5sb2dpbkZvcm0udXNlcm5hbWUgPT09ICcnKSB7CiAgICAgICAgOwogICAgICAgIHVzZXJOYW1lUmVmLnZhbHVlLmZvY3VzKCk7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGUubG9naW5Gb3JtLnBhc3N3b3JkID09PSAnJykgewogICAgICAgIDsKICAgICAgICBwYXNzd29yZFJlZi52YWx1ZS5mb2N1cygpOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICB1c2VyTmFtZVJlZjogdXNlck5hbWVSZWYsCiAgICAgIHBhc3N3b3JkUmVmOiBwYXNzd29yZFJlZiwKICAgICAgbG9naW5Gb3JtUmVmOiBsb2dpbkZvcm1SZWYKICAgIH0sIHRvUmVmcyhzdGF0ZSkpLCB0b1JlZnMobWV0aG9kcykpOwogIH0KfSk7"},{"version":3,"sources":["/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/luochang/Desktop/vue3-project/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/luochang/Desktop/vue3-project/src/views/login/index.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { defineComponent, onMounted, reactive, watch, ref, nextTick, toRefs } from 'vue'\nimport { useRoute, LocationQuery, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { isValidUsername } from '@/utils/shared'\n\nexport default defineComponent({\n  components: {},\n  setup() {\n    const userNameRef = ref(null)\n    const passwordRef = ref(null)\n    const loginFormRef = ref(null)\n    const router = useRouter()\n    const route = useRoute()\n    const store = useStore()\n    const state = reactive({\n      loginForm: {\n        username: 'admin',\n        password: '111111'\n      },\n      loginRules: {\n        username: [{ validator: userNameRef, trigger: 'blur' }],\n        password: [{ validator: passwordRef, trigger: 'blur' }]\n      },\n      passwordType: 'password',\n      loading: false,\n      redirect: '',\n      otherQuery: {}\n    })\n\n    const methods = reactive({\n      validateUsername: (rule: any, value: string, callback: (p?: any) => void) => {\n        if (!isValidUsername(value)) {\n          callback(new Error('Please enter the correct user name'))\n        } else {\n          callback()\n        }\n      },\n      validatePassword: (rule: any, value: string, callback: (p?: any) => void) => {\n        if (value.length < 6) {\n          callback(new Error('The password can not be less than 6 digits'))\n        } else {\n          callback()\n        }\n      },\n      showPwd: () => {\n        if (state.passwordType === 'password') {\n          state.passwordType = ''\n        } else {\n          state.passwordType = 'password'\n        }\n        nextTick(() => {\n          ;(passwordRef.value as any).focus()\n        })\n      },\n      handleLogin: () => {\n        ;(loginFormRef.value as any).validate(async (valid: boolean) => {\n          if (valid) {\n            state.loading = true\n            await store.dispatch('appModule/setLogin', state.loginForm)\n            router\n              .push({\n                path: state.redirect || '/',\n                query: state.otherQuery\n              })\n              .catch((err) => {\n                console.warn(err)\n              })\n            // Just to simulate the time of the request\n            setTimeout(() => {\n              state.loading = false\n            }, 0.5 * 1000)\n          } else {\n            return false\n          }\n        })\n      }\n    })\n\n    function getOtherQuery(query: LocationQuery) {\n      return Object.keys(query).reduce((acc, cur) => {\n        if (cur !== 'redirect') {\n          acc[cur] = query[cur]\n        }\n        return acc\n      }, {} as LocationQuery)\n    }\n\n    watch(\n      () => route.query,\n      (query) => {\n        if (query) {\n          state.redirect = query.redirect?.toString() ?? ''\n          state.otherQuery = getOtherQuery(query)\n        }\n      },\n      { immediate: true }\n    )\n\n    onMounted(() => {\n      if (state.loginForm.username === '') {\n        ;(userNameRef.value as any).focus()\n      } else if (state.loginForm.password === '') {\n        ;(passwordRef.value as any).focus()\n      }\n    })\n\n    return {\n      userNameRef,\n      passwordRef,\n      loginFormRef,\n      ...toRefs(state),\n      ...toRefs(methods)\n    }\n  }\n})\n"],"sourceRoot":""}]}