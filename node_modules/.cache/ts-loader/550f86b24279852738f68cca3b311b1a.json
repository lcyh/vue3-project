{"remainingRequest":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js!/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js??ref--14-2!/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/luochang/Desktop/vue3-project/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/luochang/Desktop/vue3-project/src/views/layout/Header.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/luochang/Desktop/vue3-project/src/views/layout/Header.vue","mtime":1631952484483},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":1615864461891},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js","mtime":1615864461876},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js","mtime":1615864465705},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":1615864461891},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/vue-loader-v16/dist/index.js","mtime":1631523068699}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2x1b2NoYW5nL0Rlc2t0b3AvdnVlMy1wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9sdW9jaGFuZy9EZXNrdG9wL3Z1ZTMtcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwoKLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqLwppbXBvcnQgeyBjb21wdXRlZCwgZGVmaW5lQ29tcG9uZW50LCBvbk1vdW50ZWQsIHJlYWN0aXZlLCByZWYsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0R2FtZUxpc3QgfSBmcm9tICdAL2FwaS9tb2R1bGVzL2RhdGFib2FyZCc7CnZhciBtZW51TGlzdCA9IFsvLyB7IG5hbWU6ICJIb21lIiwgcGF0aDogIi9ob21lIiwgdGl0bGU6ICLpppbpobUiIH0sCnsKICBuYW1lOiAnRGF0YWJvYXJkRGV0YWlsJywKICBwYXRoOiAnL2RhdGFib2FyZC9kZXRhaWwnLAogIHRpdGxlOiAn5pWw5o2u55yL5p2/Jwp9LCB7CiAgbmFtZTogJ0Zvcm1EZXRhaWwnLAogIHBhdGg6ICcvZm9ybS9mb3JtLWRldGFpbCcsCiAgdGl0bGU6ICdGb3Jt6KGo5Y2VJwp9LCB7CiAgbmFtZTogJ0NvdW50TnVtYmVyJywKICBwYXRoOiAnL2NvdW50L2NvdW50LW51bWJlcicsCiAgdGl0bGU6ICforqHmlbDlmagnCn0sIHsKICBuYW1lOiAnUHJvZmlsZScsCiAgcGF0aDogJy9wZXJzb24vcHJvZmlsZScsCiAgdGl0bGU6ICdqc3jkuKrkurrkuK3lv4MnCn1dOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7IC8vIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKQoKICAgIHZhciBpc0NsaWNrTWVudSA9IHJlZihmYWxzZSk7CiAgICB2YXIgcmVhY3RpdmVEYXRhID0gcmVhY3RpdmUoewogICAgICBzZWxlY3RlZEdhbWU6IHt9LAogICAgICBnYW1lTGlzdDogW10sCiAgICAgIHJvdXRlOiB1c2VSb3V0ZSgpCiAgICB9KTsKICAgIHZhciB1c2VySW5mbyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmFwcE1vZHVsZS51c2VySW5mbzsKICAgIH0pOyAvLyBjb25zdCBhY3RpdmVkTWVudSA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLnN0YXRlLmFwcE1vZHVsZS5hY3RpdmVkTWVudSk7CgogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldEdhbWVMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByZWFjdGl2ZURhdGEuZ2FtZUxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICByZWFjdGl2ZURhdGEuc2VsZWN0ZWRHYW1lID0gX29iamVjdFNwcmVhZCh7fSwgcmVhY3RpdmVEYXRhLmdhbWVMaXN0WzBdKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwoKICAgIHZhciBoYW5kbGVTZXRSZXBvcnRMaXN0ID0gZnVuY3Rpb24gaGFuZGxlU2V0UmVwb3J0TGlzdCgpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ2RhdGFib2FyZE1vZHVsZS9zZXRSZXBvcnRMaXN0JywgcmVhY3RpdmVEYXRhLnNlbGVjdGVkR2FtZS5nYW1lQmFzZUlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgX3JlcyQ7CgogICAgICAgIC8vIOm7mOiupOWxleekuuesrOS4gOS4quacieadg+mZkOeahOeci+adv+iPnOWNlQogICAgICAgIHZhciBkYXRhYm9hcmRGaXJzdE1lbnVJZCA9IChfcmVzJCA9IHJlc1swXSkgPT09IG51bGwgfHwgX3JlcyQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXMkLmlkOwoKICAgICAgICBpZiAocmVzICYmIHJlc1swXSAmJiByZXNbMF0uY2hpbGRyZW4pIHsKICAgICAgICAgIHZhciBfcmVzJDIsIF9yZXMkMiRjaGlsZHJlbiQsIF9yZXMkMzsKCiAgICAgICAgICBkYXRhYm9hcmRGaXJzdE1lbnVJZCA9ICgoX3JlcyQyID0gcmVzWzBdKSA9PT0gbnVsbCB8fCBfcmVzJDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcmVzJDIkY2hpbGRyZW4kID0gX3JlcyQyLmNoaWxkcmVuWzBdKSA9PT0gbnVsbCB8fCBfcmVzJDIkY2hpbGRyZW4kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzJDIkY2hpbGRyZW4kLmlkKSB8fCAoKF9yZXMkMyA9IHJlc1swXSkgPT09IG51bGwgfHwgX3JlcyQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzJDMuaWQpOwogICAgICAgIH0KCiAgICAgICAgcm91dGVyLnB1c2goIi9kYXRhYm9hcmQvZGV0YWlsIi5jb25jYXQoZGF0YWJvYXJkRmlyc3RNZW51SWQgPyAiLyIuY29uY2F0KGRhdGFib2FyZEZpcnN0TWVudUlkKSA6ICcnKSk7CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgc2VsZWN0ZWRNZW51ID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgcm91dGUgPSByZWFjdGl2ZURhdGEucm91dGU7CiAgICAgIHZhciBjdXJyZW50Um91dGVQYXRoID0gcm91dGUucGF0aDsKCiAgICAgIGlmICgvXlwvZGF0YWJvYXJkLy50ZXN0KGN1cnJlbnRSb3V0ZVBhdGgpKSB7CiAgICAgICAgdmFyIF9yZWFjdGl2ZURhdGEkc2VsZWN0ZTsKCiAgICAgICAgLy8g5b2T5YiH5o2i5Yiw5pWw5o2u55yL5p2/5a+86Iiq5pe26K+35rGC5pWw5o2u55yL5p2/5YiX6KGoCiAgICAgICAgaWYgKCFpc0NsaWNrTWVudS52YWx1ZSAmJiByZWFjdGl2ZURhdGEgIT09IG51bGwgJiYgcmVhY3RpdmVEYXRhICE9PSB2b2lkIDAgJiYgKF9yZWFjdGl2ZURhdGEkc2VsZWN0ZSA9IHJlYWN0aXZlRGF0YS5zZWxlY3RlZEdhbWUpICE9PSBudWxsICYmIF9yZWFjdGl2ZURhdGEkc2VsZWN0ZSAhPT0gdm9pZCAwICYmIF9yZWFjdGl2ZURhdGEkc2VsZWN0ZS5nYW1lQmFzZUlkKSB7CiAgICAgICAgICAvLyDpmLLmraLngrnlh7sg5pWw5o2u55yL5p2/6I+c5Y2V5pe26K+35rGC5Lik5qyh5o6l5Y+jCiAgICAgICAgICBoYW5kbGVTZXRSZXBvcnRMaXN0KCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zb2xlLmxvZygncm91dGUnLCByb3V0ZSk7CiAgICAgIHJldHVybiByb3V0ZS5uYW1lOwogICAgfSk7CgogICAgdmFyIG9uQ2hhbmdlR2FtZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlR2FtZShnYW1lSWQpIHsKICAgICAgaXNDbGlja01lbnUudmFsdWUgPSB0cnVlOwogICAgICB2YXIgY3VycmVudEdhbWUgPSByZWFjdGl2ZURhdGEuZ2FtZUxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmdhbWVCYXNlSWQgPT09IGdhbWVJZDsKICAgICAgfSk7CiAgICAgIHJlYWN0aXZlRGF0YS5zZWxlY3RlZEdhbWUgPSBjdXJyZW50R2FtZTsKICAgICAgc3RvcmUuY29tbWl0KCdkYXRhYm9hcmRNb2R1bGUvU0VUX1NFTEVDVEVEX0dBTUUnLCBjdXJyZW50R2FtZSk7CiAgICAgIGhhbmRsZVNldFJlcG9ydExpc3QoKTsKICAgIH07CgogICAgdmFyIGhhbmRsZVNlbGVjdCA9IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChrZXkpIHsKICAgICAgaXNDbGlja01lbnUudmFsdWUgPSB0cnVlOyAvLyDorr7nva7lvZPliY3pgInkuK3nmoTkuIDnuqfoj5zljZVtZW51CgogICAgICBzdG9yZS5jb21taXQoJ2FwcE1vZHVsZS9TRVRfQUNUSVZFRF9NRU5VJywga2V5KTsKCiAgICAgIGlmIChrZXkgPT09ICdEYXRhYm9hcmREZXRhaWwnKSB7CiAgICAgICAgLy8g5YiH5o2i5Yiw5pWw5o2u55yL5p2/6aG15pe277yM6K+35rGC6I635Y+WIOaVsOaNrueci+adv+aKpeihqOiPnOWNleWIl+ihqOaVsOaNrgogICAgICAgIGhhbmRsZVNldFJlcG9ydExpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiBrZXkKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgaGFuZGxlQ29tbWFuZCA9IGZ1bmN0aW9uIGhhbmRsZUNvbW1hbmQoa2V5KSB7CiAgICAgIHZhciByb3V0ZSA9IHJlYWN0aXZlRGF0YS5yb3V0ZTsKCiAgICAgIGlmIChrZXkgPT09ICdsb2dvdXQnKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2FwcE1vZHVsZS9zZXRMb2dvdXQnKTsKICAgICAgICByb3V0ZXIucHVzaCgiL2xvZ2luP3JlZGlyZWN0PSIuY29uY2F0KHJvdXRlLmZ1bGxQYXRoKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS53YXJuKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoewogICAgICBzZWxlY3RlZE1lbnU6IHNlbGVjdGVkTWVudSwKICAgICAgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsCiAgICAgIGhhbmRsZUNvbW1hbmQ6IGhhbmRsZUNvbW1hbmQsCiAgICAgIG1lbnVMaXN0OiBtZW51TGlzdCwKICAgICAgb25DaGFuZ2VHYW1lOiBvbkNoYW5nZUdhbWUsCiAgICAgIHVzZXJJbmZvOiB1c2VySW5mbwogICAgfSwgdG9SZWZzKHJlYWN0aXZlRGF0YSkpOwogIH0KfSk7"},{"version":3,"sources":["/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/luochang/Desktop/vue3-project/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/luochang/Desktop/vue3-project/src/views/layout/Header.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;;;;;AACA;AACA,SAAS,QAAT,EAAmB,eAAnB,EAAoC,SAApC,EAA+C,QAA/C,EAAyD,GAAzD,EAA8D,MAA9D,QAA4E,KAA5E;AACA,SAAS,SAAT,EAAoB,QAApB,QAAoC,YAApC;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,WAAT,QAA4B,yBAA5B;AAEA,IAAM,QAAQ,GAAG,CACf;AACA;AAAE,EAAA,IAAI,EAAE,iBAAR;AAA2B,EAAA,IAAI,EAAE,mBAAjC;AAAsD,EAAA,KAAK,EAAE;AAA7D,CAFe,EAGf;AAAE,EAAA,IAAI,EAAE,YAAR;AAAsB,EAAA,IAAI,EAAE,mBAA5B;AAAiD,EAAA,KAAK,EAAE;AAAxD,CAHe,EAIf;AAAE,EAAA,IAAI,EAAE,aAAR;AAAuB,EAAA,IAAI,EAAE,qBAA7B;AAAoD,EAAA,KAAK,EAAE;AAA3D,CAJe,EAKf;AAAE,EAAA,IAAI,EAAE,SAAR;AAAmB,EAAA,IAAI,EAAE,iBAAzB;AAA4C,EAAA,KAAK,EAAE;AAAnD,CALe,CAAjB;AAOA,eAAe,eAAe,CAAC;AAC7B,EAAA,KAD6B,mBACxB;AACH,QAAM,KAAK,GAAG,QAAQ,EAAtB;AACA,QAAM,MAAM,GAAG,SAAS,EAAxB,CAFG,CAGH;;AACA,QAAM,WAAW,GAAG,GAAG,CAAC,KAAD,CAAvB;AACA,QAAM,YAAY,GAAQ,QAAQ,CAAC;AACjC,MAAA,YAAY,EAAE,EADmB;AAEjC,MAAA,QAAQ,EAAE,EAFuB;AAGjC,MAAA,KAAK,EAAE,QAAQ;AAHkB,KAAD,CAAlC;AAKA,QAAM,QAAQ,GAAG,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,KAAN,CAAY,SAAZ,CAAsB,QAA5B;AAAA,KAAD,CAAzB,CAVG,CAWH;;AACA,IAAA,SAAS,uEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACU,WAAW,EADrB;;AAAA;AACF,cAAA,GADE;AAER,cAAA,YAAY,CAAC,QAAb,GAAwB,GAAG,CAAC,IAA5B;AACA,cAAA,YAAY,CAAC,YAAb,qBAAiC,YAAY,CAAC,QAAb,CAAsB,CAAtB,CAAjC;;AAHQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;;AAKA,QAAM,mBAAmB,GAAG,SAAtB,mBAAsB,GAAK;AAC/B,MAAA,KAAK,CACF,QADH,CACY,+BADZ,EAC6C,YAAY,CAAC,YAAb,CAA0B,UADvE,EAEG,IAFH,CAEQ,UAAC,GAAD,EAAa;AAAA;;AACjB;AACA,YAAI,oBAAoB,YAAG,GAAG,CAAC,CAAD,CAAN,0CAAG,MAAQ,EAAnC;;AACA,YAAI,GAAG,IAAI,GAAG,CAAC,CAAD,CAAV,IAAiB,GAAG,CAAC,CAAD,CAAH,CAAO,QAA5B,EAAsC;AAAA;;AACpC,UAAA,oBAAoB,GAAG,WAAA,GAAG,CAAC,CAAD,CAAH,sEAAQ,QAAR,CAAiB,CAAjB,uEAAqB,EAArB,gBAA2B,GAAG,CAAC,CAAD,CAA9B,2CAA2B,OAAQ,EAAnC,CAAvB;AACD;;AACD,QAAA,MAAM,CAAC,IAAP,4BAAgC,oBAAoB,cAAO,oBAAP,IAAgC,EAApF;AACD,OATH;AAUD,KAXD;;AAYA,QAAM,YAAY,GAAG,QAAQ,CAAC,YAAK;AACjC,UAAQ,KAAR,GAAkB,YAAlB,CAAQ,KAAR;AACA,UAAM,gBAAgB,GAAG,KAAK,CAAC,IAA/B;;AACA,UAAI,eAAe,IAAf,CAAoB,gBAApB,CAAJ,EAA2C;AAAA;;AACzC;AACA,YAAI,CAAC,WAAW,CAAC,KAAb,IAAsB,YAAtB,aAAsB,YAAtB,wCAAsB,YAAY,CAAE,YAApC,kDAAsB,sBAA4B,UAAtD,EAAkE;AAChE;AACA,UAAA,mBAAmB;AACpB;AACF;;AACD,MAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,KAArB;AAEA,aAAO,KAAK,CAAC,IAAb;AACD,KAb4B,CAA7B;;AAeA,QAAM,YAAY,GAAG,SAAf,YAAe,CAAC,MAAD,EAAmB;AACtC,MAAA,WAAW,CAAC,KAAZ,GAAoB,IAApB;AACA,UAAM,WAAW,GAAG,YAAY,CAAC,QAAb,CAAsB,IAAtB,CAA2B,UAAC,IAAD;AAAA,eAAe,IAAI,CAAC,UAAL,KAAoB,MAAnC;AAAA,OAA3B,CAApB;AACA,MAAA,YAAY,CAAC,YAAb,GAA4B,WAA5B;AACA,MAAA,KAAK,CAAC,MAAN,CAAa,mCAAb,EAAkD,WAAlD;AACA,MAAA,mBAAmB;AACpB,KAND;;AAOA,QAAM,YAAY,GAAG,SAAf,YAAe,CAAC,GAAD,EAAgB;AACnC,MAAA,WAAW,CAAC,KAAZ,GAAoB,IAApB,CADmC,CAEnC;;AACA,MAAA,KAAK,CAAC,MAAN,CAAa,4BAAb,EAA2C,GAA3C;;AACA,UAAI,GAAG,KAAK,iBAAZ,EAA+B;AAC7B;AACA,QAAA,mBAAmB;AACpB,OAHD,MAGO;AACL,QAAA,MAAM,CAAC,IAAP,CAAY;AACV,UAAA,IAAI,EAAE;AADI,SAAZ;AAGD;AACF,KAZD;;AAaA,QAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,GAAD,EAAgB;AACpC,UAAQ,KAAR,GAAkB,YAAlB,CAAQ,KAAR;;AACA,UAAI,GAAG,KAAK,QAAZ,EAAsB;AACpB,QAAA,KAAK,CAAC,QAAN,CAAe,qBAAf;AACA,QAAA,MAAM,CAAC,IAAP,2BAA+B,KAAK,CAAC,QAArC,GAAiD,KAAjD,CAAuD,UAAC,GAAD,EAAQ;AAC7D,UAAA,OAAO,CAAC,IAAR,CAAa,GAAb;AACD,SAFD;AAGD;AACF,KARD;;AASA;AACE,MAAA,YAAY,EAAZ,YADF;AAEE,MAAA,YAAY,EAAZ,YAFF;AAGE,MAAA,aAAa,EAAb,aAHF;AAIE,MAAA,QAAQ,EAAR,QAJF;AAKE,MAAA,YAAY,EAAZ,YALF;AAME,MAAA,QAAQ,EAAR;AANF,OAOK,MAAM,CAAC,YAAD,CAPX;AASD;AAnF4B,CAAD,CAA9B","sourcesContent":["\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { computed, defineComponent, onMounted, reactive, ref, toRefs } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { getGameList } from '@/api/modules/databoard'\n\nconst menuList = [\n  // { name: \"Home\", path: \"/home\", title: \"首页\" },\n  { name: 'DataboardDetail', path: '/databoard/detail', title: '数据看板' },\n  { name: 'FormDetail', path: '/form/form-detail', title: 'Form表单' },\n  { name: 'CountNumber', path: '/count/count-number', title: '计数器' },\n  { name: 'Profile', path: '/person/profile', title: 'jsx个人中心' }\n]\nexport default defineComponent({\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    // const route = useRoute()\n    const isClickMenu = ref(false)\n    const reactiveData: any = reactive({\n      selectedGame: {},\n      gameList: [],\n      route: useRoute()\n    })\n    const userInfo = computed(() => store.state.appModule.userInfo)\n    // const activedMenu = computed(() => store.state.appModule.activedMenu);\n    onMounted(async () => {\n      const res = await getGameList()\n      reactiveData.gameList = res.data\n      reactiveData.selectedGame = { ...reactiveData.gameList[0] }\n    })\n    const handleSetReportList = () => {\n      store\n        .dispatch('databoardModule/setReportList', reactiveData.selectedGame.gameBaseId)\n        .then((res: any) => {\n          // 默认展示第一个有权限的看板菜单\n          let databoardFirstMenuId = res[0]?.id\n          if (res && res[0] && res[0].children) {\n            databoardFirstMenuId = res[0]?.children[0]?.id || res[0]?.id\n          }\n          router.push(`/databoard/detail${databoardFirstMenuId ? `/${databoardFirstMenuId}` : ''}`)\n        })\n    }\n    const selectedMenu = computed(() => {\n      const { route } = reactiveData\n      const currentRoutePath = route.path\n      if (/^\\/databoard/.test(currentRoutePath)) {\n        // 当切换到数据看板导航时请求数据看板列表\n        if (!isClickMenu.value && reactiveData?.selectedGame?.gameBaseId) {\n          // 防止点击 数据看板菜单时请求两次接口\n          handleSetReportList()\n        }\n      }\n      console.log('route', route)\n\n      return route.name\n    })\n\n    const onChangeGame = (gameId: number) => {\n      isClickMenu.value = true\n      const currentGame = reactiveData.gameList.find((item: any) => item.gameBaseId === gameId)\n      reactiveData.selectedGame = currentGame\n      store.commit('databoardModule/SET_SELECTED_GAME', currentGame)\n      handleSetReportList()\n    }\n    const handleSelect = (key: string) => {\n      isClickMenu.value = true\n      // 设置当前选中的一级菜单menu\n      store.commit('appModule/SET_ACTIVED_MENU', key)\n      if (key === 'DataboardDetail') {\n        // 切换到数据看板页时，请求获取 数据看板报表菜单列表数据\n        handleSetReportList()\n      } else {\n        router.push({\n          name: key\n        })\n      }\n    }\n    const handleCommand = (key: string) => {\n      const { route } = reactiveData\n      if (key === 'logout') {\n        store.dispatch('appModule/setLogout')\n        router.push(`/login?redirect=${route.fullPath}`).catch((err) => {\n          console.warn(err)\n        })\n      }\n    }\n    return {\n      selectedMenu,\n      handleSelect,\n      handleCommand,\n      menuList,\n      onChangeGame,\n      userInfo,\n      ...toRefs(reactiveData)\n    }\n  }\n})\n"],"sourceRoot":""}]}