{"remainingRequest":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js!/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js??ref--14-2!/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js??ref--13-0!/Users/luochang/Desktop/vue3-project/src/store/modules/appStore/index.ts","dependencies":[{"path":"/Users/luochang/Desktop/vue3-project/src/store/modules/appStore/index.ts","mtime":1630306811844},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":1611888872654},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js","mtime":1607827004578},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js","mtime":1608712855794},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js","mtime":1611891883494}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCB7IGZvcm1hdE1lbnVzTWFwIH0gZnJvbSAnQC9yb3V0ZXIvY29tbW9uJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1jeWNsZQoKaW1wb3J0IFVzZXJBY3Rpb24gZnJvbSAnQC9hcGkvbW9kdWxlcy9hcHAnOwp2YXIgYXBwTW9kdWxlID0gewogIG5hbWVzcGFjZTogdHJ1ZSwKICBzdGF0ZTogewogICAgdXNlckluZm86IG51bGwsCiAgICBjb2xsYXBzZWQ6IGZhbHNlLAogICAgc2hvd05hdlNpZGU6IHRydWUsCiAgICBzaG93R2FtZVNlbGVjdDogZmFsc2UsCiAgICBtZW51TWFwOiBmb3JtYXRNZW51c01hcCgpLAogICAgYWN0aXZlZE1lbnU6ICdIb21lJyAvLyDlvZPliY3pgInkuK3nmoTkuIDnuqflr7zoiKoKCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFRPR0dMRV9DT0xMQVBTRUQ6IGZ1bmN0aW9uIFRPR0dMRV9DT0xMQVBTRUQoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgc3RhdGUuY29sbGFwc2VkID0gdmFsdWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzdGF0ZS5jb2xsYXBzZWQgPSAhc3RhdGUuY29sbGFwc2VkOwogICAgfSwKICAgIFNFVF9OQVZfU0lERTogZnVuY3Rpb24gU0VUX05BVl9TSURFKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5zaG93TmF2U2lkZSA9IHZhbHVlOwogICAgfSwKICAgIFNFVF9TSE9XX0dBTUVfU0VMRUNUOiBmdW5jdGlvbiBTRVRfU0hPV19HQU1FX1NFTEVDVChzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUuc2hvd0dhbWVTZWxlY3QgPSB2YWx1ZTsKICAgIH0sCiAgICBTRVRfQUNUSVZFRF9NRU5VOiBmdW5jdGlvbiBTRVRfQUNUSVZFRF9NRU5VKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5hY3RpdmVkTWVudSA9IHZhbHVlOwogICAgfSwKICAgIFNFVF9VU0VSX0lORk86IGZ1bmN0aW9uIFNFVF9VU0VSX0lORk8oc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLnVzZXJJbmZvID0gdmFsdWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICB0b2dnbGVDb2xsYXBzZWQ6IGZ1bmN0aW9uIHRvZ2dsZUNvbGxhcHNlZChfcmVmLCB2YWx1ZSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGNvbW1pdCgnVE9HR0xFX0NPTExBUFNFRCcsIHZhbHVlKTsKICAgIH0sCiAgICBzZXROYXZTaWRlOiBmdW5jdGlvbiBzZXROYXZTaWRlKF9yZWYyLCB2YWx1ZSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ1NFVF9OQVZfU0lERScsIHZhbHVlKTsKICAgIH0sCiAgICBzZXRBY3RpdmVkTWVudTogZnVuY3Rpb24gc2V0QWN0aXZlZE1lbnUoX3JlZjMsIHZhbHVlKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgnU0VUX0FDVElWRURfTUVOVScsIHZhbHVlKTsKICAgIH0sCiAgICBzZXRTaG93R2FtZVNlbGVjdDogZnVuY3Rpb24gc2V0U2hvd0dhbWVTZWxlY3QoX3JlZjQsIHZhbHVlKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIGNvbW1pdCgnU0VUX1NIT1dfR0FNRV9TRUxFQ1QnLCB2YWx1ZSk7CiAgICB9LAogICAgc2V0VXNlckluZm86IGZ1bmN0aW9uIHNldFVzZXJJbmZvKF9yZWY1KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkKICAgICAgICBVc2VyQWN0aW9uLmdldFVzZXJJbmZvKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9JTkZPJywgewogICAgICAgICAgICAgIGlkOiBkYXRhLmlkLAogICAgICAgICAgICAgIHJvbGU6IGRhdGEucm9sZSwKICAgICAgICAgICAgICByb2xlTmFtZTogZGF0YS5yb2xlTmFtZSwKICAgICAgICAgICAgICB1c2VyTmFtZTogZGF0YS51c2VyTmFtZSwKICAgICAgICAgICAgICBlbWFpbDogZGF0YS5lbWFpbAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcign55So5oi35L+h5oGv6I635Y+W5aSx6LSlJykpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHZhciBtc2cgPSBlcnIubWVzc2FnZSB8fCAn6K+35rGC5byC5bi4JzsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihtc2cpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNldFVzZXJQZXJtaXNzaW9uOiBmdW5jdGlvbiBzZXRVc2VyUGVybWlzc2lvbihfcmVmNikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmNi5zdGF0ZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgX3N0YXRlJHVzZXJJbmZvOwoKICAgICAgICBVc2VyQWN0aW9uLmdldFVzZXJQZXJtaXNzaW9uKHsKICAgICAgICAgIHVzZXJJZDogKF9zdGF0ZSR1c2VySW5mbyA9IHN0YXRlLnVzZXJJbmZvKSA9PT0gbnVsbCB8fCBfc3RhdGUkdXNlckluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZSR1c2VySW5mby5pZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRVc2VyUGVybWlzc2lvbicsIGRhdGEpOyAvLyBjb21taXQoJ1NFVF9NRU5VX0xJU1QnLCByZXN1bHQubWVudSkKICAgICAgICAgICAgLy8gY29tbWl0KCdTRVRfTUVOVV9NQVAnLCByZXN1bHQubWFwKQogICAgICAgICAgICAvLyBjb21taXQoJ1NFVF9BRERfUk9VVEVSUycsIHJlc3VsdC5yb3V0ZXMpCiAgICAgICAgICAgIC8vIGNvbW1pdCgnU0VUX0hJU1RPUllfTUVOVV9MSVNUJywgZGF0YSkKICAgICAgICAgICAgLy8gcmVzb2x2ZShyZXN1bHQucm91dGVzKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcign55So5oi36I+c5Y2V5YiX6KGo6I635Y+W5aSx6LSlJykpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHZhciBtc2cgPSBlcnIubWVzc2FnZSB8fCAn55So5oi36I+c5Y2V5YiX6KGo6I635Y+W5aSx6LSlJzsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihtc2cpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgYXBwTW9kdWxlOw=="},{"version":3,"sources":["/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js??ref--13-0!/Users/luochang/Desktop/vue3-project/src/store/modules/appStore/index.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ActionContext } from 'vuex'\nimport { ElMessage } from 'element-plus'\nimport { formatMenusMap } from '@/router/common'\n// eslint-disable-next-line import/no-cycle\nimport UserAction from '@/api/modules/app'\nimport AppState, { UserInfo } from './types'\nimport { AllStateTypes } from '../../types'\n\nconst appModule = {\n  namespace: true,\n  state: {\n    userInfo: null, // 用户信息\n    collapsed: false, // 左侧导航是否折叠\n    showNavSide: true, // 是否显示左侧导航\n    showGameSelect: false, // 是否显示游戏下拉框\n    menuMap: formatMenusMap(), // 一二级导航集合\n    activedMenu: 'Home' // 当前选中的一级导航\n  },\n  mutations: {\n    TOGGLE_COLLAPSED(state: AppState, value: boolean) {\n      if (value !== undefined) {\n        state.collapsed = value\n        return\n      }\n      state.collapsed = !state.collapsed\n    },\n    SET_NAV_SIDE(state: AppState, value: boolean | undefined) {\n      state.showNavSide = value\n    },\n    SET_SHOW_GAME_SELECT(state: AppState, value: boolean) {\n      state.showGameSelect = value\n    },\n    SET_ACTIVED_MENU(state: AppState, value: string) {\n      state.activedMenu = value\n    },\n    SET_USER_INFO(state: AppState, value: UserInfo) {\n      state.userInfo = value\n    }\n  },\n  actions: {\n    toggleCollapsed({ commit }: ActionContext<string, AllStateTypes>, value: boolean) {\n      commit('TOGGLE_COLLAPSED', value)\n    },\n    setNavSide({ commit }: ActionContext<string, AllStateTypes>, value: boolean) {\n      commit('SET_NAV_SIDE', value)\n    },\n    setActivedMenu({ commit }: ActionContext<string, AllStateTypes>, value: string) {\n      commit('SET_ACTIVED_MENU', value)\n    },\n    setShowGameSelect({ commit }: ActionContext<string, AllStateTypes>, value: boolean) {\n      commit('SET_SHOW_GAME_SELECT', value)\n    },\n    setUserInfo({ commit }: ActionContext<string, AllStateTypes>) {\n      return new Promise<void>((resolve, reject) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        UserAction.getUserInfo().then((res: any) => {\n          if (res.data) {\n            const { data } = res\n            commit('SET_USER_INFO', {\n              id: data.id,\n              role: data.role,\n              roleName: data.roleName,\n              userName: data.userName,\n              email: data.email\n            })\n            resolve()\n          } else {\n            reject(new Error('用户信息获取失败'))\n          }\n        }).catch((err) => {\n          const msg = err.message || '请求异常'\n          ElMessage.error(msg)\n          reject(err)\n        })\n      })\n    },\n    setUserPermission({ commit, state }: ActionContext<AppState, AllStateTypes>) {\n      return new Promise<any>((resolve, reject) => {\n        UserAction.getUserPermission({\n          userId: state.userInfo?.id\n        }).then((res: any) => {\n          if (res.data) {\n            const { data } = res\n            console.log('setUserPermission', data);\n\n            // commit('SET_MENU_LIST', result.menu)\n            // commit('SET_MENU_MAP', result.map)\n            // commit('SET_ADD_ROUTERS', result.routes)\n            // commit('SET_HISTORY_MENU_LIST', data)\n            // resolve(result.routes)\n          } else {\n            reject(new Error('用户菜单列表获取失败'))\n          }\n        }).catch((err: any) => {\n          const msg = err.message || '用户菜单列表获取失败'\n          ElMessage.error(msg)\n          reject(err)\n        })\n      })\n    }\n  }\n}\nexport default appModule\n"],"sourceRoot":""}]}