{"remainingRequest":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js!/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js??ref--14-2!/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js??ref--13-0!/Users/luochang/Desktop/vue3-project/src/router/index.ts","dependencies":[{"path":"/Users/luochang/Desktop/vue3-project/src/router/index.ts","mtime":1631952484457},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/cache-loader/dist/cjs.js","mtime":1615864461891},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/babel-loader/lib/index.js","mtime":1615864461876},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/ts-loader/index.js","mtime":1615864465705},{"path":"/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js","mtime":1615864465073}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2x1b2NoYW5nL0Rlc2t0b3AvdnVlMy1wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9sdW9jaGFuZy9EZXNrdG9wL3Z1ZTMtcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CgovKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovCgovKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi8KaW1wb3J0IHsgY29uZmlndXJlLCBzdGFydCwgZG9uZSB9IGZyb20gJ25wcm9ncmVzcyc7CmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOwppbXBvcnQgeyBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVdlYkhhc2hIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCB7IGdldENvb2tpZSB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCBjb25zdGFudFJvdXRlcyBmcm9tICcuL2NvbW1vbic7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmNvbmZpZ3VyZSh7CiAgc2hvd1NwaW5uZXI6IGZhbHNlCn0pOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpLAogIHJvdXRlczogY29uc3RhbnRSb3V0ZXMKfSk7CnZhciB3aGl0ZUxpc3QgPSBbJy9sb2dpbicsICcvNDAzJywgJy80MDQnLCAnL3JlZGlyZWN0J107CnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBfLCBuZXh0KSB7CiAgICB2YXIgX3N0b3JlJHN0YXRlJGFwcE1vZHVsLCBfc3RvcmUkc3RhdGUkYXBwTW9kdWwyLCBfc3RvcmUkc3RhdGUkYXBwTW9kdWwzLCBfc3RvcmUkc3RhdGUkYXBwTW9kdWw0LCByb2xlLCBpZDsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHN0YXJ0KCk7IC8vIERldGVybWluZSB3aGV0aGVyIHRoZSB1c2VyIGhhcyBsb2dnZWQgaW4KCiAgICAgICAgICAgIGlmICghZ2V0Q29va2llKCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghKHRvLnBhdGggPT09ICcvbG9naW4nKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJZiBpcyBsb2dnZWQgaW4sIHJlZGlyZWN0IHRvIHRoZSBob21lIHBhZ2UKICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgcGF0aDogJy8nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkb25lKCk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBpZiAoISgoKF9zdG9yZSRzdGF0ZSRhcHBNb2R1bCA9IHN0b3JlLnN0YXRlLmFwcE1vZHVsZSkgPT09IG51bGwgfHwgX3N0b3JlJHN0YXRlJGFwcE1vZHVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3N0b3JlJHN0YXRlJGFwcE1vZHVsMiA9IF9zdG9yZSRzdGF0ZSRhcHBNb2R1bC51c2VySW5mbykgPT09IG51bGwgfHwgX3N0b3JlJHN0YXRlJGFwcE1vZHVsMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9zdG9yZSRzdGF0ZSRhcHBNb2R1bDMgPSBfc3RvcmUkc3RhdGUkYXBwTW9kdWwyLnJvbGUpID09PSBudWxsIHx8IF9zdG9yZSRzdGF0ZSRhcHBNb2R1bDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdG9yZSRzdGF0ZSRhcHBNb2R1bDMubGVuZ3RoKSA9PT0gMCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgiYXBwTW9kdWxlL3NldFVzZXJJbmZvIik7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgX3N0b3JlJHN0YXRlJGFwcE1vZHVsNCA9IHN0b3JlLnN0YXRlLmFwcE1vZHVsZS51c2VySW5mbywgcm9sZSA9IF9zdG9yZSRzdGF0ZSRhcHBNb2R1bDQucm9sZSwgaWQgPSBfc3RvcmUkc3RhdGUkYXBwTW9kdWw0LmlkOyAvLyBHZW5lcmF0ZSBhY2Nlc3NpYmxlIHJvdXRlcyBtYXAgYmFzZWQgb24gcm9sZQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goImFwcE1vZHVsZS9zZXRVc2VyUGVybWlzc2lvbiIsIHsKICAgICAgICAgICAgICByb2xlOiByb2xlLAogICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAvLyBEeW5hbWljYWxseSBhZGQgYWNjZXNzaWJsZSByb3V0ZXMKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0b3JlLnN0YXRlLmFwcE1vZHVsZS5wZXJtaXNzaW9uLmR5bmFtaWNSb3V0ZXMtMicsIHN0b3JlLnN0YXRlLmFwcE1vZHVsZS5wZXJtaXNzaW9uLmR5bmFtaWNSb3V0ZXMpOwogICAgICAgICAgICBzdG9yZS5zdGF0ZS5hcHBNb2R1bGUucGVybWlzc2lvbi5keW5hbWljUm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7CiAgICAgICAgICAgICAgcm91dGVyLmFkZFJvdXRlKHJvdXRlKTsKICAgICAgICAgICAgfSk7IC8vIEhhY2s6IGVuc3VyZSBhZGRSb3V0ZXMgaXMgY29tcGxldGUKICAgICAgICAgICAgLy8gU2V0IHRoZSByZXBsYWNlOiB0cnVlLCBzbyB0aGUgbmF2aWdhdGlvbiB3aWxsIG5vdCBsZWF2ZSBhIGhpc3RvcnkgcmVjb3JkCgogICAgICAgICAgICBuZXh0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG8pLCB7fSwgewogICAgICAgICAgICAgIHJlcGxhY2U6IHRydWUKICAgICAgICAgICAgfSkpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxODsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg4KTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignLS0tZXJyLS0tJywgX2NvbnRleHQudDApOyAvLyBSZW1vdmUgdG9rZW4gYW5kIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UKCiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJhcHBNb2R1bGUvc2V0UmVtb3ZlVG9rZW4iKTsKICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKF9jb250ZXh0LnQwIHx8ICdIYXMgRXJyb3InKTsKICAgICAgICAgICAgbmV4dCgiL2xvZ2luP3JlZGlyZWN0PSIuY29uY2F0KHRvLnBhdGgpKTsKICAgICAgICAgICAgZG9uZSgpOwoKICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgbmV4dCgpOwoKICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgLy8gSGFzIG5vIHRva2VuCiAgICAgICAgICAgIGlmICh3aGl0ZUxpc3QuaW5kZXhPZih0by5wYXRoKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAvLyBJbiB0aGUgZnJlZSBsb2dpbiB3aGl0ZWxpc3QsIGdvIGRpcmVjdGx5CiAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIE90aGVyIHBhZ2VzIHRoYXQgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgYXJlIHJlZGlyZWN0ZWQgdG8gdGhlIGxvZ2luIHBhZ2UuCiAgICAgICAgICAgICAgbmV4dCgiL2xvZ2luP3JlZGlyZWN0PSIuY29uY2F0KHRvLnBhdGgpKTsKICAgICAgICAgICAgICBkb25lKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbOCwgMThdXSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOyAvLyDlhajlsYDot6/nlLHliY3nva7lrojljasKLy8gcm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tLCBuZXh0KSA9PiB7Ci8vICAgc3RhcnQoKQovLyAgIGlmIChnZXRDb29raWUoKSkgewovLyAgICAgaWYgKHN0b3JlLmdldHRlcnMudXNlckluZm8pIHsKLy8gICAgICAgaWYgKHN0b3JlLmdldHRlcnMuaGFzQWRkUm91dGUpIHsKLy8gICAgICAgICBuZXh0KCkKLy8gICAgICAgfSBlbHNlIHsKLy8gICAgICAgICBzdG9yZS5kaXNwYXRjaCgnc2V0VXNlclBlcm1pc3Npb24nKS50aGVuKChyZXMpID0+IHsKLy8gICAgICAgICAgIC8vIOWKqOaAgea3u+WKoOi3r+eUseinhOWImQovLyAgICAgICAgICAgcm91dGVyLmFkZFJvdXRlKHJlcykKLy8gICAgICAgICAgIG5leHQoewovLyAgICAgICAgICAgICBwYXRoOiB0by5wYXRoLAovLyAgICAgICAgICAgICByZXBsYWNlOiB0cnVlCi8vICAgICAgICAgICB9KQovLyAgICAgICAgIH0pCi8vICAgICAgIH0KLy8gICAgIH0gZWxzZSB7Ci8vICAgICAgIHN0b3JlLmRpc3BhdGNoKCdzZXRVc2VySW5mbycpLnRoZW4oKCkgPT4gewovLyAgICAgICAgIG5leHQoewovLyAgICAgICAgICAgcGF0aDogdG8ucGF0aCB8fCAnJywKLy8gICAgICAgICAgIHF1ZXJ5OiB0by5xdWVyeQovLyAgICAgICAgIH0pCi8vICAgICAgIH0pCi8vICAgICB9Ci8vICAgfSBlbHNlIHsKLy8gICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gUmVkaXJlY3QubG9naW5VcmwKLy8gICB9Ci8vIH0pCi8vIOWFqOWxgOi3r+eUseWQjue9ruWuiOWNqwoKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAodG8pIHsKICBjb25zb2xlLmxvZygnYWZ0ZXJFYWNoLXRvJywgdG8pOyAvLyDmmL7npLrov5jmmK/pmpDol4/lt6bkvqflr7zoiKoKICAvLyBzdG9yZS5kaXNwYXRjaCgnc2V0TmF2U2lkZScsIHRvLm1ldGEuc2hvd05hdlNpZGUpCgogIGRvbmUoKTsKfSk7CmV4cG9ydCBmdW5jdGlvbiByZXNldFJvdXRlcigpIHsKICB2YXIgbmV3Um91dGVyID0gcm91dGVyOwogIHJvdXRlci5tYXRjaGVyID0gbmV3Um91dGVyLm1hdGNoZXI7IC8vIHJlc2V0IHJvdXRlcgp9CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/luochang/Desktop/vue3-project/node_modules/eslint-loader/index.js??ref--13-0!/Users/luochang/Desktop/vue3-project/src/router/index.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { configure, start, done } from 'nprogress'\nimport 'nprogress/nprogress.css'\nimport { createRouter, createWebHashHistory, RouteRecordRaw, RouteLocationNormalized } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { getCookie } from '@/utils/auth'\nimport Redirect from '@/utils/redirect'\nimport constantRoutes from './common'\nimport store from '../store'\n\nconfigure({\n  showSpinner: false\n})\n\nconst router = createRouter({\n  history: createWebHashHistory(), // createWebHistory\n  routes: constantRoutes as RouteRecordRaw[]\n})\nconst whiteList = ['/login', '/403', '/404', '/redirect']\nrouter.beforeEach(async (to: RouteLocationNormalized, _: RouteLocationNormalized, next: any) => {\n  start()\n  // Determine whether the user has logged in\n  if (getCookie()) {\n    if (to.path === '/login') {\n      // If is logged in, redirect to the home page\n      next({ path: '/' })\n      done()\n    } else {\n      // Check whether the user has obtained his permission roles\n      // console.log('store.state.appModule?.userInfo-1', store.state.appModule?.userInfo);\n      if (store.state.appModule?.userInfo?.role?.length === 0) {\n        try {\n          // Note: roles must be a object array! such as: ['admin'] or ['developer', 'editor']\n          await store.dispatch(\"appModule/setUserInfo\")\n          const { role, id } = store.state.appModule.userInfo\n          // Generate accessible routes map based on role\n          await store.dispatch(\"appModule/setUserPermission\", { role, id })\n          // Dynamically add accessible routes\n          // console.log('store.state.appModule.permission.dynamicRoutes-2', store.state.appModule.permission.dynamicRoutes);\n\n          store.state.appModule.permission.dynamicRoutes.forEach((route) => {\n            router.addRoute(route)\n          })\n          // Hack: ensure addRoutes is complete\n          // Set the replace: true, so the navigation will not leave a history record\n          next({ ...to, replace: true })\n        } catch (err) {\n          console.error('---err---', err);\n          // Remove token and redirect to login page\n          store.dispatch(\"appModule/setRemoveToken\")\n          ElMessage.error(err || 'Has Error')\n          next(`/login?redirect=${to.path}`)\n          done()\n        }\n      } else {\n        next()\n      }\n    }\n  } else {\n    // Has no token\n    if (whiteList.indexOf(to.path) !== -1) {\n      // In the free login whitelist, go directly\n      next()\n    } else {\n      // Other pages that do not have permission to access are redirected to the login page.\n      next(`/login?redirect=${to.path}`)\n      done()\n    }\n  }\n})\n// 全局路由前置守卫\n// router.beforeEach((to, from, next) => {\n//   start()\n//   if (getCookie()) {\n//     if (store.getters.userInfo) {\n//       if (store.getters.hasAddRoute) {\n//         next()\n//       } else {\n//         store.dispatch('setUserPermission').then((res) => {\n//           // 动态添加路由规则\n//           router.addRoute(res)\n//           next({\n//             path: to.path,\n//             replace: true\n//           })\n//         })\n//       }\n//     } else {\n//       store.dispatch('setUserInfo').then(() => {\n//         next({\n//           path: to.path || '',\n//           query: to.query\n//         })\n//       })\n//     }\n//   } else {\n//     window.location.href = Redirect.loginUrl\n//   }\n// })\n// 全局路由后置守卫\nrouter.afterEach((to) => {\n  console.log('afterEach-to', to);\n  // 显示还是隐藏左侧导航\n  // store.dispatch('setNavSide', to.meta.showNavSide)\n  done()\n})\nexport function resetRouter() {\n  const newRouter = router;\n  (router as any).matcher = (newRouter as any).matcher // reset router\n}\nexport default router\n"],"sourceRoot":""}]}